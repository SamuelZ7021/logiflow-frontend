<div class="p-6">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-slate-900">All Customers</h1>
    <button (click)="onAddCustomer()"
    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
      + Add New Customer
    </button>

    @if (isModalOpen()) {
    <app-add-customer-modal 
      (close)="toggleModal()" 
      (save)="handleSaveCustomer($event)">
    </app-add-customer-modal>
    }
  </div>

  <button (click)="onExpor()" 
        class="border border-gray-300 hover:bg-gray-50 px-4 py-2 rounded-lg flex items-center gap-2">
  <i class="lucide-download"></i> Export
</button>

<tr *ngFor="let customer of customers()" 
    (click)="viewCustomerDetails(customer.id)" 
    class="cursor-pointer hover:bg-blue-50/50">
    </tr>

  <div class="bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm">
    <table class="w-full text-left">
      <thead class="bg-slate-50 border-b border-slate-200 text-slate-500 text-sm font-medium">
        <tr>
          <th class="px-6 py-4">Client Name</th>
          <th class="px-6 py-4">ID</th>
          <th class="px-6 py-4">Primary Contact</th>
          <th class="px-6 py-4">Active Shipments</th>
          <th class="px-6 py-4">Status</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-slate-200">
        @for (customer of customers(); track customer.id) {
          <tr class="hover:bg-slate-50 transition-colors">
            <td class="px-6 py-4">
              <div class="flex items-center gap-3">
                <div [class]="'w-10 h-10 rounded-lg flex items-center justify-center font-bold ' + customer.color">
                  {{ customer.initials }}
                </div>
                <div>
                  <div class="font-semibold text-slate-900">{{ customer.name }}</div>
                  <div class="text-xs text-slate-500">{{ customer.industry }}</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4 text-slate-600">{{ customer.id }}</td>
            <td class="px-6 py-4 text-slate-900">{{ customer.contact }}</td>
            <td class="px-6 py-4 font-medium">{{ customer.activeShipments }}</td>
            <td class="px-6 py-4">
              <span [class.bg-green-100]="customer.status === 'Active'"
                    [class.text-green-700]="customer.status === 'Active'"
                    [class.bg-slate-100]="customer.status === 'Inactive'"
                    [class.text-slate-700]="customer.status === 'Inactive'"
                    class="px-3 py-1 rounded-full text-xs font-medium">
                {{ customer.status }}
              </span>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>